(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{36748:function(e,s,a){Promise.resolve().then(a.bind(a,51639))},51639:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return p}});var l=a(57437),t=a(29872),r=a(6259),i=a(24033),d=a(2265),m=a(61865),n=a(74578),c=a(38110),o=a(78443),x=a(29222);let u=(0,n.Ry)({name:(0,n.Z_)().nonempty("Name is required").max(32,"Name must be less than 100 characters"),fatherName:(0,n.Z_)().nonempty("Father Name is required").max(32,"Name must be less than 100 characters"),grandFatherName:(0,n.Z_)().max(32,"Name must be less than 100 characters").optional(),email:(0,n.Z_)().nonempty("Email is required").email("Email is invalid"),password:(0,n.Z_)().nonempty("Password is required").min(6,"Password must be more than 6 characters").max(32,"Password must be less than 32 characters"),passwordConfirm:(0,n.Z_)().nonempty("Please confirm your password"),address:(0,n.Z_)().max(32,"address must be less than 100 characters").optional(),age:(0,n.dj)(e=>""===e?void 0:Number(e),n.oQ.number().nonnegative().max(150,"not valid age").min(12,"minimum age is 12"))}).refine(e=>e.password===e.passwordConfirm,{path:["passwordConfirm"],message:"Passwords do not match"});function p(){let e=!1,s=(0,i.useRouter)(),a=(0,m.cI)({resolver:(0,c.F)(u)}),{register:n,handleSubmit:p,formState:h,reset:f,control:b}=a,{errors:w}=h,[N,g]=(0,d.useState)(!1),[j,v]=(0,d.useState)("");(0,d.useEffect)(()=>{e&&f()},[e,f]);let y=async a=>{g(!0),g(!1);var l,t=JSON.stringify(a);let r=await x.Z.post("/api/signup",t);(200===r.status||201===r.status)&&"error"!==r.statusText?(e=!0,s.push("/home")):v(null===(l=r.data)||void 0===l?void 0:l.message)};return(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-screen gap-6",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,l.jsx)("h3",{className:"text-[#3b5998] font-bold  xs:text-3xl sm:text-6xl",children:"Astemary"}),(0,l.jsx)("h5",{className:"sm:text-2xl xs:text-sm",children:"Never stop learning!"})]}),(0,l.jsxs)(t.Z,{elevation:4,sx:{width:{xs:200,sm:400},p:3},children:[""!==j?(0,l.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 mb-3 px-4 py-3 rounded relative",role:"alert",children:[(0,l.jsx)("span",{className:"block sm:inline",children:j}),(0,l.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:(0,l.jsxs)("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:()=>v(""),children:[(0,l.jsx)("title",{children:"Close"}),(0,l.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}):"",(0,l.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:p(y),className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-name-input",children:"Name"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-name-input",type:"text",autoComplete:"current-name",...n("name",{required:"name required"})}),w.name&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.name.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-father-input",children:"Father Name"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-father-input",type:"text",autoComplete:"current-name",...n("fatherName",{required:"father name required"})}),w.fatherName&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.fatherName.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-grand-father-input",children:"Grand Father Name"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-grand-father-input",type:"text",autoComplete:"current-name",...n("grandFatherName",{})}),w.grandFatherName&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.grandFatherName.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-age-input",children:"Age"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-age-input",type:"number",...n("age",{required:"age required"})}),w.age&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.age.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-address-input",children:"Address"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-address-input",type:"email",...n("address",{required:"address required"})}),w.address&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.address.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-email-input",children:"Email"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-email-input",type:"email",...n("email",{required:"email required"})}),w.email&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.email.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-password-inpu",children:"Password:"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-password-input",type:"password",...n("password",{required:"password required"})}),w.password&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.password.message})]}),(0,l.jsxs)("div",{className:"w-full px-3 mb-6 md:mb-0",children:[(0,l.jsx)("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"filled-confirm-password-inpu",children:"Confirm Password:"}),(0,l.jsx)(r.Z,{className:"w-full",size:"small",id:"filled-confirm-password-input",type:"password",...n("passwordConfirm",{required:"confirm the above password"}),placeholder:"confirm password"}),w.passwordConfirm&&(0,l.jsx)("p",{className:"text-red-500 text-xs italic",children:w.passwordConfirm.message})]}),(0,l.jsx)("div",{className:"w-full mt-5 bg-blue-600 rounded-md",children:(0,l.jsx)(o.Z,{type:"submit",disableElevation:!0,color:"primary",variant:"contained",size:"small",loading:N,sx:{backgroundColor:"blue",width:"100%",height:50},children:"Create an Account"})})]})]})]})}}},function(e){e.O(0,[750,376,966,971,596,744],function(){return e(e.s=36748)}),_N_E=e.O()}]);